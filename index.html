<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImperialPredict</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
    
    <!-- GOATCOUNTER ANALYTICS -->
    <script data-goatcounter="https://sohan-suchdev.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</head>
<body>

    <!-- HERO SECTION (Top Banner) -->
    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">ImperialPredict</h1>
            <p class="hero-subtitle">Track your grades. Predict your degree.</p>
        </div>
        <div class="hero-actions">
            <!-- Info Button -->
            <button class="icon-btn" onclick="openModal()" title="How to use">‚ÑπÔ∏è</button>
            <!-- Theme Toggle -->
            <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">üåô</button>
        </div>
    </header>

    <div class="container">
        
        <!-- === THE HUB (Course Selection) === -->
        <div id="hub-view">
            <!-- Announcement Box -->
            <div id="hub-announcement" class="announcement-box">
                <div class="loading">Loading courses...</div>
            </div>

            <!-- Course List -->
            <div id="hub-course-list">
            </div>
        </div>


        <!-- ===  THE CALCULATOR (Modules) === -->
        <div id="calculator-view" style="display: none;">
            
            <!-- Navigation -->
            <div style="margin-bottom: 20px;">
                <button onclick="showHub()" class="back-btn">‚Üê Back to Courses</button>
            </div>

            <!-- Sticky Header -->
            <div class="sticky-header">
                <h1 class="header-title">ImperialPredict</h1>
                <p class="header-subtitle">
                    <span id="course-name">Loading...</span> ‚Ä¢ 
                    Year Average: <span id="year-average">--%</span>
                </p>
            </div>

            <!-- App Container -->
            <div id="app">
            </div>
        </div>

    </div>

    <!-- SITE FOOTER -->
    <footer class="site-footer">
        <p>Built for Imperial Students.</p>
        <p>
            <a href="#" onclick="openModal()">About & Guide</a> ‚Ä¢ 
            <a href="https://github.com/Sohan-Suchdev" target="_blank">My GitHub</a>
        </p>
    </footer>

    <!-- INFO MODAL -->
    <div id="info-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>How to use ImperialPredict</h2>
            <p><strong>1. Select your Course:</strong> Choose your department and year from the hub.</p>
            <p><strong>2. Enter Grades:</strong> Type your marks (0-100) or use the sliders.</p>
            <p><strong>3. Dynamic Prediction:</strong> Use the checkboxes to <strong>ignore</strong> assignments you haven't done yet. The calculator will re-weight your grade based only on completed work.</p>
            <hr>
            <p><small><strong>Privacy Note:</strong> All data is stored locally on your device. We do not see your grades.</small></p>
        </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="script.js"></script>
</body>
</html>
